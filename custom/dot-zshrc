# Path to your oh-my-zsh configuration.
export ZSH=$HOME/src/oh-my-zsh

# Set to the name theme to load.
# Look in ~/.oh-my-zsh/themes/
export ZSH_THEME="seth"

source $ZSH/oh-my-zsh.sh

# Customize to your needs...
EMACS_INFO="/Applications/Emacs.app/Contents/Resources/info"
EMACS_BIN="/Applications/Emacs.app/Contents/MacOS/bin"
export INFOPATH=$EMACS_INFO:/usr/local/info:/usr/local/share/info:$INFOPATH
export PYTHONPATH=~/util/lib/python2.5/site-packages:~/scm/lib/python2.5/site-packages
export SVN_EDITOR=emacsclient
export EDITOR='mg -f auto-fill-mode'
#export JAVA_HOME=/System/Library/Frameworks/JavaVM.framework/Versions/1.6/Home
export JAVA_HOME=/opt/seth/resources/java/soylatte16-i386-1.0.3
# don't let tar, etc copy Finder specific junk.
export COPY_EXTENDED_ATTRIBUTES_DISABLE=true

typeset -U path
path=(
    ~/util/bin
    $EMACS_BIN
    ${JAVA_HOME}/bin
    /usr/local/bin
    ~/util/python/bin
    /Library/Frameworks/Python.framework/Versions/Current/bin
    ~/scm/bin
    /opt/local/bin
    /opt/local/sbin
    /usr/local/texlive/2007/bin/i386-darwin
    /usr/texbin
    $path
)

chpwd() {
    [[ -t 1 ]] || return
    case $TERM in
      sun-cmd) print -Pn "\e]l%~\e\\"
        ;;
      *xterm*|rxvt|(dt|k|E)term) print -Pn "\e]2;%3~\a"
        ;;
    esac
}
chpwd

alias cd..='cd ..'
alias sourcerc='. ~/.zshrc'
alias grep="grep -E --color=auto"
[[ "$EMACS" == "t" ]] && alias ls='ls -F' || alias ls='ls -F'
alias ll='ls -l'
alias lld='ll --directory'
alias llt='ll -r --sort=time'
alias lls='ll -r --sort=size'
alias d='dirs -v'
alias -g  G='|grep'
alias -g  L='|less'                                                             
alias -g  H='|head'                                                             
alias -g  T='|tail'                                                             
alias -g  V='|vim -c "setlocal buftype=nofile" -'
alias -g GV="|grep -v"
alias -g AO='2>&1'
alias -g DN='2>/dev/null'
alias -g  X='|xargs'
alias -g E='emacs --no-windows'
alias -g DBR='diff --brief -r'
alias -g DR='diff -r'
alias pg='pg_ctl -D ~/pgdata -l ~/pgdata/psql.log'
alias ec='emacsclient'
alias ecn='emacsclient -n'
alias erlman='erl -man'
alias xmlcurl="curl -H Accept:text/xml"
alias mg="mg -n" # no backup files

#--- Set some limits
#
HISTSIZE=2000
SAVEHIST=2000
HISTFILE=~/.zsh_history
DIRSTACKSIZE=15
#
#---

#--- misc. zsh stuff
#
cdpath=( ~/src ~/Notebook ~/Dropbox ~/Documents ~/evri )

bindkey -e

#--- zsh options ---
#
setopt autopushd cdablevars autocd extendedglob histignorealldups 
setopt appendhistory extendedhistory histsavenodups pushdignoredups
setopt histfindnodups combiningchars
unsetopt beep nomatch
